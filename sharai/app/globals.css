@import 'tailwindcss';

@plugin 'tailwindcss-animate';
@plugin '@tailwindcss/typography';

@custom-variant dark (&:is(.dark *));

@theme {
  --radius-lg: var(--radius);
  --radius-md: calc(var(--radius) - 2px);
  --radius-sm: calc(var(--radius) - 4px);

  --color-background: hsl(var(--background));
  --color-foreground: hsl(var(--foreground));

  --color-card: hsl(var(--card));
  --color-card-foreground: hsl(var(--card-foreground));

  --color-popover: hsl(var(--popover));
  --color-popover-foreground: hsl(var(--popover-foreground));

  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));

  --color-secondary: hsl(var(--secondary));
  --color-secondary-foreground: hsl(var(--secondary-foreground));

  --color-muted: hsl(var(--muted));
  --color-muted-foreground: hsl(var(--muted-foreground));

  --color-accent: hsl(var(--accent));
  --color-accent-foreground: hsl(var(--accent-foreground));

  --color-destructive: hsl(var(--destructive));
  --color-destructive-foreground: hsl(var(--destructive-foreground));

  --color-border: hsl(var(--border));
  --color-input: hsl(var(--input));
  --color-ring: hsl(var(--ring));

  --color-chart-1: hsl(var(--chart-1));
  --color-chart-2: hsl(var(--chart-2));
  --color-chart-3: hsl(var(--chart-3));
  --color-chart-4: hsl(var(--chart-4));
  --color-chart-5: hsl(var(--chart-5));

  --color-sidebar: hsl(var(--sidebar-background));
  --color-sidebar-foreground: hsl(var(--sidebar-foreground));
  --color-sidebar-primary: hsl(var(--sidebar-primary));
  --color-sidebar-primary-foreground: hsl(var(--sidebar-primary-foreground));
  --color-sidebar-accent: hsl(var(--sidebar-accent));
  --color-sidebar-accent-foreground: hsl(var(--sidebar-accent-foreground));
  --color-sidebar-border: hsl(var(--sidebar-border));
  --color-sidebar-ring: hsl(var(--sidebar-ring));

  --animate-accordion-down: accordion-down 0.2s ease-out;
  --animate-accordion-up: accordion-up 0.2s ease-out;

  @keyframes accordion-down {
    from {
      height: 0;
    }
    to {
      height: var(--radix-accordion-content-height);
    }
  }
  @keyframes accordion-up {
    from {
      height: var(--radix-accordion-content-height);
    }
    to {
      height: 0;
    }
  }
}

/*
  The default border color has changed to `currentColor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentColor);
  }
}

@layer base {
  :root {
    /* Default Colors - Light Theme */
    --background: 0 0% 100%;
    --foreground: 215 19% 35%;
    
    /* X/Grok-inspired Colors */
    --primary: 203 89% 53%;
    --primary-foreground: 0 0% 100%;
    
    --secondary: 210 34% 63%;
    --secondary-foreground: 0 0% 100%;
    
    --accent: 203 89% 90%;
    --accent-foreground: 203 89% 20%;
    
    --muted: 210 40% 96.1%;
    --muted-foreground: 215 16% 47%;
    
    --card: 0 0% 100%;
    --card-foreground: 215 19% 35%;
    
    --popover: 0 0% 100%;
    --popover-foreground: 215 19% 35%;
    
    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 203 89% 53%;
    
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 98%;
    
    --radius: 0.5rem;
  }

  .dark {
    /* X/Grok Dark Theme */
    --background: 210 20% 10%;
    --foreground: 210 40% 98%;
    
    --primary: 203 89% 53%;
    --primary-foreground: 0 0% 100%;
    
    --secondary: 217 19% 27%;
    --secondary-foreground: 210 40% 98%;
    
    --accent: 217 19% 27%;
    --accent-foreground: 0 0% 100%;
    
    --muted: 217 19% 14%;
    --muted-foreground: 215 20% 65%;
    
    --card: 217 19% 14%;
    --card-foreground: 210 40% 98%;
    
    --popover: 217 19% 14%;
    --popover-foreground: 210 40% 98%;
    
    --border: 217 19% 18%;
    --input: 217 19% 18%;
    --ring: 203 89% 53%;
    
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  
  body {
    @apply bg-background text-foreground;
    font-family: 'Inter', 'Noto Sans Arabic', sans-serif;
  }
  
  /* Typography settings */
  h1, h2, h3, h4, h5, h6 {
    font-family: 'Raleway', 'Amiri', sans-serif;
    @apply font-semibold;
  }
  
  [dir="rtl"] {
    font-family: 'Noto Sans Arabic', 'Inter', sans-serif;
  }
  
  [dir="rtl"] h1, 
  [dir="rtl"] h2, 
  [dir="rtl"] h3, 
  [dir="rtl"] h4, 
  [dir="rtl"] h5, 
  [dir="rtl"] h6 {
    font-family: 'Amiri', serif;
  }
}

/* Custom animations */
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes slideUp {
  from { transform: translateY(20px); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}

@keyframes pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}

@keyframes glow {
  0%, 100% { box-shadow: 0 0 10px 2px rgba(29, 155, 240, 0.2); }
  50% { box-shadow: 0 0 20px 5px rgba(29, 155, 240, 0.4); }
}

@keyframes shimmer {
  0% { background-position: -100% 0; }
  100% { background-position: 200% 0; }
}

.animate-fade-in {
  animation: fadeIn 0.5s ease-in-out;
}

.animate-slide-up {
  animation: slideUp 0.5s ease-out;
}

.animate-pulse {
  animation: pulse 2s ease-in-out infinite;
}

.animate-glow {
  animation: glow 2s ease-in-out infinite;
}

/* Modern Grok-style elements */
.grok-card {
  @apply bg-card rounded-xl border border-border shadow-md overflow-hidden;
  backdrop-filter: blur(10px);
  transition: all 0.3s ease;
}

.grok-card:hover {
  transform: translateY(-3px);
  box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1);
}

.grok-input {
  @apply bg-input text-foreground border border-border rounded-xl p-3 w-full focus:outline-hidden focus:ring-2 focus:ring-primary transition-all;
}

.grok-button {
  @apply px-6 py-3 bg-primary text-white rounded-full font-medium shadow-md hover:bg-primary/90 transition-all flex items-center justify-center;
}

.grok-button-secondary {
  @apply px-6 py-3 bg-secondary text-white rounded-full font-medium shadow-md hover:bg-secondary/90 transition-all flex items-center justify-center;
}

.grok-button-outline {
  @apply px-6 py-3 bg-transparent text-primary border border-primary rounded-full font-medium hover:bg-primary/10 transition-all flex items-center justify-center;
}

.shimmer {
  background: linear-gradient(
    90deg, 
    hsl(var(--card)) 0%, 
    hsl(var(--muted)) 50%, 
    hsl(var(--card)) 100%
  );
  background-size: 200% 100%;
  animation: shimmer 2s infinite;
}

/* Citation styles */
.citation {
  position: relative;
  padding-left: 20px;
  @apply border-l-2 border-primary pl-4 py-2 mb-2 rounded-r-md bg-accent/10;
}

/* Loader styles */
.grok-loader {
  position: relative;
  width: 48px;
  height: 48px;
  display: inline-block;
}

.grok-loader:before,
.grok-loader:after {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: 50%;
  border: 3px solid transparent;
}

.grok-loader:before {
  border-top-color: hsl(var(--primary));
  animation: rotation 1s linear infinite;
}

.grok-loader:after {
  border-bottom-color: hsl(var(--primary));
  animation: rotation 1.5s linear reverse infinite;
  opacity: 0.6;
}

@keyframes rotation {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* Glass morphism effect */
.glass {
  @apply bg-background/80 backdrop-blur-xl;
  border: 1px solid rgba(255, 255, 255, 0.05);
}

/* X/Twitter-like elements */
.x-border {
  @apply border border-border;
}

.x-divider {
  @apply h-px w-full bg-border my-4;
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: hsl(var(--muted));
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: hsl(var(--secondary));
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: hsl(var(--primary));
}

/* Dark theme specific overrides */
.dark .grok-card:hover {
  box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.3), 0 8px 10px -6px rgba(0, 0, 0, 0.2);
}

/* Light theme specific overrides */
.light .citation {
  @apply bg-accent/20 border-l-2 border-primary;
}
